<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        *{
            margin: 0;
        }
        .world{
            position: absolute;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background: -webkit-linear-gradient(#e4e0ba, #f7d9aa);
            background: linear-gradient(#e4e0ba, #f7d9aa);
        }
    </style>
    <script type="text/javascript" src="../js/three.min.js"></script>

</head>
<body>
<div class="world" id="world"></div>
<script>

    var dpr = (window.devicePixelRatio) ? window.devicePixelRatio : 1;
    var scene,camera,renderer;
    var aspectRatio,fieldOfView, nearPlane, farPlane;
    var Height, Width;
    var ball, dot;

    function createScene() {
        Height = window.innerHeight;
        Width = window.innerWidth;

        scene = new THREE.Scene();


        aspectRatio = Width / Height;
        fieldOfView = 45;
        nearPlane = 1;
        farPlane = 500;

        camera = new THREE.PerspectiveCamera(fieldOfView, aspectRatio, nearPlane, farPlane);
        camera.position.x = 0;
        camera.position.z = 200;
        camera.position.y = 0;

        renderer = new THREE.WebGLRenderer({antialias: true });
        renderer.setPixelRatio(dpr);
        renderer.setSize(Width,Height);
        renderer.shadowMap.enabled = true;
        container = document.getElementById('world');
        container.appendChild(renderer.domElement);
    }

    // LIGHTS
    var ambientLight, hemisphereLight, shadowLight;

    function createLights() {
        //环境光
        ambientLight = new THREE.AmbientLight(0xffffff);
        scene.add(ambientLight);
    }

    var Earth = function () {
        this.mesh = new THREE.Object3D();
        var b = new Ball(50);
        this.mesh.add(b.mesh);
        var vertices = b.mesh.geometry.vertices;
        var vertex = vertices[~~(Math.random()*vertices.length)];
        var d = new Dot(vertex.x, vertex.y, vertex.z);
        this.mesh.add(d.mesh);
    };

    var Ball = function (radius) {
        var geom = new THREE.SphereGeometry(radius, 20, 10);
        var mat = new THREE.MeshPhongMaterial({
            wireframe: true,
            color: 0x666666
        });
        this.mesh = new THREE.Mesh(geom,mat);
    };

    var Dot = function (posX, posY, posZ) {
        var geom = new THREE.SphereGeometry(0.7, 0, 0);
        var mat = new THREE.MeshPhongMaterial({
            color: 0x1dbc19,
            shading: THREE.SmoothShading
        });
        this.mesh = new THREE.Mesh(geom,mat);
        this.mesh.position.x = posX || 0;
        this.mesh.position.y = posY || 0;
        this.mesh.position.z = posZ || 0;
    };

    function createEarth() {
        earth = new Earth();
        scene.add(earth.mesh);
    }
    function loop(){
        earth.mesh.rotation.y += 0.5 * Math.PI / 180;
        renderer.render(scene, camera);
        requestAnimationFrame(loop);
    }
    function init() {
        createScene();
        createLights();
        createEarth();
        loop();
    }
    
    init();

</script>
</body>
</html>